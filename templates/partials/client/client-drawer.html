{% comment %}
Client Drawer Partial
Contains: Side drawer for adding/editing clients with form fields and permissions
{% endcomment %}

<!-- Client Drawer Start -->
<div class="drawer-overlay" id="client-drawer-overlay"></div>
<aside class="side-drawer" id="client-drawer">
    <div class="drawer-header">
        <h2 id="drawer-title">
            <i class="fa-solid fa-user-plus"></i>
            <span id="drawer-title-text">Add New Client</span>
        </h2>
        <button class="drawer-close" id="drawer-close-btn" title="Close">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>
    
    <div class="drawer-body">
        <form id="client-form" class="client-form">
            <input type="hidden" id="client-id" name="client_id">
            
            <!-- Profile Photo Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-camera"></i> Profile Photo
                </h3>
                <div class="profile-upload">
                    <div class="profile-preview" id="profile-preview">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="profile-actions">
                        <label for="profile-input" class="btn btn-secondary btn-sm">
                            <i class="fa-solid fa-upload"></i> Upload Photo
                        </label>
                        <input type="file" id="profile-input" name="profile" accept="image/*" hidden>
                        <button type="button" class="btn btn-danger btn-sm" id="remove-photo-btn" style="display: none;">
                            <i class="fa-solid fa-trash"></i> Remove
                        </button>
                        <span class="upload-hint">JPG, PNG (Max 2MB)</span>
                        <div class="profile-path-display no-path" id="client-profile-path">No image</div>
                    </div>
                </div>
            </div>
            
            <!-- Client Information Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-info-circle"></i> Client Information
                </h3>
                
                <div class="form-group">
                    <label for="client-name">Client Name <span class="required">*</span></label>
                    <input type="text" id="client-name" name="name" placeholder="Enter client name" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="client-email">Email <span class="required">*</span></label>
                        <input type="email" id="client-email" name="email" placeholder="Enter email address" required>
                    </div>
                    <div class="form-group">
                        <label for="client-phone">Phone <span class="required">*</span></label>
                        <input type="tel" id="client-phone" name="phone" placeholder="Enter phone number" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="client-address">Address</label>
                    <textarea id="client-address" name="address" rows="2" placeholder="Enter address"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="client-password">Password <span class="required" id="password-required">*</span></label>
                        <div class="password-input-wrapper">
                            <input type="password" id="client-password" name="password" placeholder="Enter password">
                            <button type="button" class="password-toggle" id="toggle-password">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="client-status">Status</label>
                        <select id="client-status" name="is_active">
                            <option value="true">Active</option>
                            <option value="false">Inactive</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Permissions Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-shield-halved"></i> Permissions
                </h3>
                
                <!-- Staff Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-users"></i> Staff Management
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_view" id="perm-staff-view">
                            <span class="permission-label">View Staff</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_add" id="perm-staff-add">
                            <span class="permission-label">Add Staff</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_edit" id="perm-staff-edit">
                            <span class="permission-label">Edit Staff</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_delete" id="perm-staff-delete">
                            <span class="permission-label">Delete Staff</span>
                        </label>
                    </div>
                </div>
                
                <!-- ID Card Settings Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-sliders"></i> ID Card Settings
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_view" id="perm-idcard-setting-view">
                            <span class="permission-label">View Settings</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_add" id="perm-idcard-setting-add">
                            <span class="permission-label">Add Settings</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_edit" id="perm-idcard-setting-edit">
                            <span class="permission-label">Edit Settings</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_delete" id="perm-idcard-setting-delete">
                            <span class="permission-label">Delete Settings</span>
                        </label>
                    </div>
                </div>
                
                <!-- ID Card List Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-list"></i> ID Card Lists
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_list_view" id="perm-idcard-list-view">
                            <span class="permission-label">View Lists</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_list_add" id="perm-idcard-list-add">
                            <span class="permission-label">Add Lists</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_list_edit" id="perm-idcard-list-edit">
                            <span class="permission-label">Edit Lists</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_list_delete" id="perm-idcard-list-delete">
                            <span class="permission-label">Delete Lists</span>
                        </label>
                    </div>
                </div>
                
                <!-- ID Card Actions Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-id-card"></i> ID Card Actions
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_action_view" id="perm-idcard-action-view">
                            <span class="permission-label">View Actions</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_action_add" id="perm-idcard-action-add">
                            <span class="permission-label">Add Actions</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_action_edit" id="perm-idcard-action-edit">
                            <span class="permission-label">Edit Actions</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_action_delete" id="perm-idcard-action-delete">
                            <span class="permission-label">Delete Actions</span>
                        </label>
                    </div>
                </div>
            </div>
        </form>
    </div>
    
    <div class="drawer-footer">
        <button type="button" class="btn btn-secondary" id="drawer-cancel-btn">
            <i class="fa-solid fa-xmark"></i> Cancel
        </button>
        <button type="submit" form="client-form" class="btn btn-primary" id="drawer-submit-btn">
            <i class="fa-solid fa-check"></i> <span id="submit-btn-text">Save Client</span>
        </button>
    </div>
</aside>
<!-- Client Drawer End -->
