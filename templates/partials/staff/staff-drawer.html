{% comment %}
Staff Drawer Partial
Contains: Side drawer for adding/editing staff with form fields and permissions
{% endcomment %}

<!-- Staff Drawer Start -->
<div class="drawer-overlay" id="staff-drawer-overlay"></div>
<aside class="side-drawer" id="staff-drawer">
    <div class="drawer-header">
        <h2 class="drawer-title" id="drawer-title">
            <i class="fa-solid fa-user-plus" id="drawer-icon"></i>
            <span id="drawer-title-text">Add New Staff</span>
        </h2>
        <button type="button" class="drawer-close" id="drawer-close-btn" title="Close">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>
    
    <form id="staff-form" class="drawer-form">
        <input type="hidden" id="staff-id" name="staff_id">
        
        <div class="drawer-body">
            <!-- Profile Photo Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-camera"></i> Profile Photo
                </h3>
                <div class="profile-upload">
                    <div class="profile-preview" id="profile-preview">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="profile-actions">
                        <label for="profile-input" class="btn btn-secondary btn-sm">
                            <i class="fa-solid fa-upload"></i> Upload Photo
                        </label>
                        <input type="file" id="profile-input" name="profile" accept="image/*" hidden>
                        <span class="upload-hint">JPG, PNG (Max 2MB)</span>
                        <div class="profile-path-display no-path" id="staff-profile-path">No image</div>
                    </div>
                </div>
            </div>
            
            <!-- Staff Information Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-info-circle"></i> Staff Information
                </h3>
                
                <div class="form-group">
                    <label for="staff-name">Staff Name <span class="required">*</span></label>
                    <input type="text" id="staff-name" name="name" placeholder="Enter staff name" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="staff-email">Email <span class="required">*</span></label>
                        <input type="email" id="staff-email" name="email" placeholder="Enter email address" required>
                    </div>
                    <div class="form-group">
                        <label for="staff-phone">Phone <span class="required">*</span></label>
                        <input type="tel" id="staff-phone" name="phone" placeholder="Enter phone number" required>
                        <small class="field-hint" style="color: #6b7280; font-size: 11px;">This will be used as password</small>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="staff-address">Address</label>
                        <textarea id="staff-address" name="address" rows="2" placeholder="Enter address (optional)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="staff-status">Status</label>
                        <select id="staff-status" name="is_active">
                            <option value="true">Active</option>
                            <option value="false">Inactive</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Permissions Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-shield-halved"></i> Permissions
                </h3>
                
                <!-- Staff Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-users"></i> Staff Management
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_list" id="perm-staff-list">
                            <span class="permission-label">Staff List</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_add" id="perm-staff-add">
                            <span class="permission-label">Staff Add</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_edit" id="perm-staff-edit">
                            <span class="permission-label">Staff Edit</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_delete" id="perm-staff-delete">
                            <span class="permission-label">Staff Delete</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_staff_status" id="perm-staff-status">
                            <span class="permission-label">Staff Status</span>
                        </label>
                    </div>
                </div>
                
                <!-- ID Card Settings Permissions -->
                <div class="permission-group">
                    <h4 class="permission-group-title">
                        <i class="fa-solid fa-sliders"></i> ID Card Settings
                    </h4>
                    <div class="permission-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_list" id="perm-idcard-setting-list">
                            <span class="permission-label">Setting List</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_add" id="perm-idcard-setting-add">
                            <span class="permission-label">Setting Add</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_edit" id="perm-idcard-setting-edit">
                            <span class="permission-label">Setting Edit</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_delete" id="perm-idcard-setting-delete">
                            <span class="permission-label">Setting Delete</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="perm_idcard_setting_status" id="perm-idcard-setting-status">
                            <span class="permission-label">Setting Status</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="drawer-footer">
            <button type="button" class="btn btn-secondary" id="drawer-cancel-btn">Cancel</button>
            <button type="submit" class="btn btn-primary" id="drawer-submit-btn">
                <span id="submit-btn-text">Add Staff</span>
            </button>
        </div>
    </form>
</aside>
<!-- Staff Drawer End -->
