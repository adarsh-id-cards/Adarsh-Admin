{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ID Card Actions - {{ table.name }} - Adarsh ID Cards</title>
  <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{% static 'css/variables.css' %}?v=2">
  <link rel="stylesheet" href="{% static 'css/style.css' %}?v=40">
  <link rel="stylesheet" href="{% static 'css/common.css' %}?v=43">
  <link rel="stylesheet" href="{% static 'css/idcard-actions.css' %}?v=46">
  <link rel="stylesheet" href="{% static 'css/idcard-actions-enhanced.css' %}?v=4">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- External Libraries (loaded in head for availability) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" defer></script>
  
  <!-- Global Variables -->
  <script>
    var TABLE_ID = {{ table.id }};
    var TABLE_FIELDS = {{ table.fields|safe }};
    var CURRENT_STATUS = '{{ current_status|default:"pending" }}';
    var CLIENT_ID = {{ client.id }};
  </script>
</head>
<body>
  <!-- Sidebar -->
  {% include 'partials/sidebar.html' %}

  <!-- Main Content Area -->
  <main class="main idcard-actions-page">
    <!-- Top Navigation Bar -->
    {% include 'partials/idcard/topbar.html' %}

    <div class="main-content">
      <!-- Action Bars (Different for each status) -->
      {% include 'partials/idcard/action-bars.html' %}

      <!-- Search and Filter Bar -->
      {% include 'partials/idcard/search-filter-bar.html' %}

      <!-- Data Table -->
      {% include 'partials/idcard/table.html' %}

      <!-- Pagination -->
      {% include 'partials/idcard/pagination.html' %}
    </div>
  </main>

  <!-- Side Modal for Add/Edit/View -->
  {% include 'partials/idcard/side-modal.html' %}

  <!-- Toast Notifications -->
  {% include 'partials/components/toast.html' %}

  <!-- All Modals -->
  {% include 'partials/idcard/modals.html' %}

  <!-- Scripts -->
  <script src="{% static 'js/utils.js' %}?v=1"></script>
  <script src="{% static 'js/script.js' %}?v=40"></script>
  
  <!-- IDCard Actions Modules - Loaded in order -->
  <script src="{% static 'js/idcard-actions-core.js' %}?v=5"></script>
  <script src="{% static 'js/idcard-actions-table.js' %}?v=4"></script>
  <script src="{% static 'js/idcard-actions-search.js' %}?v=12"></script>
  <script src="{% static 'js/idcard-actions-upload.js' %}?v=4"></script>
  <script src="{% static 'js/idcard-actions-download.js' %}?v=4"></script>
  <script src="{% static 'js/idcard-actions-modal.js' %}?v=8"></script>
  <script src="{% static 'js/idcard-actions-api.js' %}?v=4"></script>
  <script src="{% static 'js/idcard-actions-edit.js' %}?v=5"></script>
  <script src="{% static 'js/idcard-actions.js' %}?v=40"></script>
</body>
</html>
